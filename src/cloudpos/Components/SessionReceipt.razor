@code{
    [Parameter] public int SessionId { get; set; }
}

@if (_session is null) return;
<div class="receipt monospace-font text-dark mb-3">
    <div class="receipt-list p-3 py-4">
        <h6 class="text-center fw-bold">@config.StoreName</h6>
        <p class="text-center">@config.BankInformation</p>
        <h6 class="text-center fw-bold mt-4 mb-0">영수증</h6>
        <hr class="receipt-line"/>
        <div>
            <span>[입장시간]</span>
            <span class="float-end">@_session.CreatedAt.ToString("yyyy-MM-dd hh:mm:ss")</span>
        </div>
        <div>
            <span>[발행시간]</span>
            <span class="float-end">@(_session.EndedAt?.ToString("yyyy-MM-dd hh:mm:ss") ?? "미발행")</span>
        </div>
        <div>
            <span>[테이블]</span>
            <span class="float-end">@_session.Table.Name</span>
        </div>
        <div>
            <span>[거래번호]</span>
            <span class="float-end">#@_session.SessionId</span>
        </div>
        <hr class="receipt-line"/>
        <table class="w-100">
            <colgroup>
                <col style="width: 45%">
                <col style="width: 15%">
                <col style="width: 20%">
                <col style="width: 20%">
            </colgroup>
            <tr>
                <th scope="col">상품명</th>
                <th scope="col">수량</th>
                <th scope="col">단가</th>
                <th scope="col" class="text-end">금액</th>
            </tr>
            @if (_orderSummaries is not null)
            {
                @foreach (var x in _orderSummaries)
                {
                    <tr>
                        <td>@x.ItemName</td>
                        <td>@x.TotalQty</td>
                        <td>@CurrencyFormat(x.Price)</td>
                        <td class="text-end">@CurrencyFormat(x.TotalPrice)</td>
                    </tr>
                }
            }
        </table>
        <hr class="receipt-line"/>
        <h6 class="fw-bold text-end">합계: @(CurrencyFormat(_totalAmount))원</h6>
        <p class="text-secondary text-center mb-0" style="font-size: 9px">본 영수증 용지는 BPA-Free 친환경 용지입니다.</p>
    </div>
</div>
